const App=function(e){let t,n,r,l;const o="request_per_second_on_ELB",s="response_rate_client_ELB",c="response_rate_ELB_UI_server",i="cpu_used",a="disk_used",d="memory_free",u="tenant_wise_requests",m="Fintech",h="CBC",y="Insurance",p="DNG",f="BBPS",x=()=>{n=t.appendChild(_()),requestAnimationFrame((()=>{n.animate([{transform:"translate(-50%, -50%) scale(1)"},{transform:"translate(-50%, -50%) scale(1.1)"},{transform:"translate(-50%, -50%) scale(1)"}],{duration:400,iterations:2,easing:"ease-out"})}))},q=()=>{n.remove()},_=()=>{const t=e.document.createElement("div");t.style.height="100px",t.style.padding="34px",t.style.position="fixed",t.style.top="50%",t.style.left="50%",t.style.background="ghostwhite",t.style.border="2px solid cornflowerblue",t.style.borderRadius="4px",t.style.transform="translate(-50%, -50%)";t.appendChild(C());const n=t.appendChild(e.document.createElement("button"));return n.textContent="Done",n.addEventListener("click",b),t},C=()=>{const t=e.document.createElement("input");return t.setAttribute("type","file"),t.addEventListener("change",S),t},S=e=>{const t=new FileReader;t.addEventListener("load",(()=>{r=JSON.parse(t.result)})),t.readAsText(e.target.files[0])},b=()=>{q(),r&&g(r)},g=e=>{const t=e.find((e=>e.startTime.includes(l)));t||console.warn("Invalid startTime");const n=e.indexOf(t);console.log(e);for(let t=n;t<e.length;t+=2){const n=e[t],[r,l]=n.startTime.split(" ")[4].split(":"),o=[r,l].join(":"),s=E(o);A(s,n)}},E=e=>{if(!e)return void console.log("Invalid time",e);console.log("Time: ",e);const n=Array.from(t.querySelectorAll("td")).find((t=>t.textContent===e)).parentElement,r={},l=n.children[1].querySelectorAll("td");r[o]={min:l[0],max:l[1],mean:l[2]};const u=n.children[2].querySelectorAll("td");r[s]={min:u[0],max:u[1],mean:u[2]};const x=n.children[3].querySelectorAll("td");r[c]={min:x[0],max:x[1],mean:x[2]};const q=n.children[4].querySelector("tbody").children[1].children;r[i]={min:q[1],max:q[2],mean:q[3]};const _=n.children[4].querySelector("tbody").children[2].children;r[a]={min:_[1],max:_[2],mean:_[3]};const C=n.children[4].querySelector("tbody").children[3].children;r[d]={min:C[1],max:C[2],mean:C[3]};const S=n.children[5].querySelector("tbody").children[1].children;r[m]={total:S[1],success:S[2],failure:S[3]};const b=n.children[5].querySelector("tbody").children[2].children;r[f]={total:b[1],success:b[2],failure:b[3]};const g=n.children[5].querySelector("tbody").children[3].children;r[y]={total:g[1],success:g[2],failure:g[3]};const E=n.children[5].querySelector("tbody").children[4].children;r[h]={total:E[1],success:E[2],failure:E[3]};const A=n.children[5].querySelector("tbody").children[5].children;return r[p]={total:A[1],success:A[2],failure:A[3]},r},A=(e,t)=>{const n=t.trafic,r=t.health;n.forEach((({query:t,result:n,results:r})=>{t!==u?(e[t].min.textContent=n.min,e[t].max.textContent=n.max,e[t].mean.textContent=n.avg):r.forEach((t=>{e[t.tenant].total.textContent=t.total_request,e[t.tenant].success.textContent=t.success,e[t.tenant].failure.textContent=t.failure}))})),r.forEach((({query:t,result:n})=>{e[t].min.textContent=n.min,e[t].max.textContent=n.max,e[t].mean.textContent=n.avg}))};return{init:(n,r)=>{e.App&&e.App.destroy(),t=n,l=r,x()},destroy:()=>{q(),delete e.App}}}(window);App.init(document.getElementById("tinymce"),"Sep 23 2022 08:00");
